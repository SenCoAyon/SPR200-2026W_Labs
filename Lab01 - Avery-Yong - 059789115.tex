\documentclass{article}

\usepackage{amsmath,amssymb,amsthm} % Advanced math typesetting
\usepackage[utf8]{inputenc} % Unicode support
\usepackage{hyperref} % Add a link to your document
\usepackage{xeCJK}
\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=black,
    linkcolor=blue,
    urlcolor=blue
}
\usepackage{graphicx} % Add pictures to your document
\usepackage{listings}
\usepackage{geometry}
 \geometry{
 a4paper,
 total={170mm,257mm},
 left=20mm,
 top=20mm,
 }

\usepackage{titling}
\title{Lab-01: Write in Cryptography}
\author {Avery Yong}
\date{January 10, 2025}
 
 \usepackage{fancyhdr}
\fancypagestyle{plain}{%  the preset of fancyhdr 
    \fancyhf{} % clear all header and footer fields
    %\fancyfoot[R]{\includegraphics[width=2cm]{KULEUVEN_GENT_RGB_LOGO.png}}
    \fancyfoot[L]{\thedate}
    \fancyhead[L]{SPR200 Basic Cryptography}
    \fancyhead[R]{\theauthor}
}
\makeatletter
\def\@maketitle{%
  \newpage
  \null
  \vskip 1em%
  \begin{center}%
  \let \footnote \thanks
    {\LARGE \@title \par}%
    \vskip 1em%
    %{\large \@date}%
  \end{center}%
  \par
  \vskip 1em}
\makeatother

\usepackage{lipsum}  
\usepackage{cmbright}

\begin{document}

\maketitle

\noindent\begin{tabular}{@{}ll}
    Student Name & \theauthor\\
    Student \# & 059789115 \\
     Course Code &  SPR200\\
     Section Number & NAA \\
     Professor & Prof. Wei Huang 
\end{tabular}



\section{Math equation 1}
\begin{equation*}
\int_0^{\infty}\frac{x^3}{e^x-1}dx=\frac{\pi^4}{15}  %\int\limits_0^{\infty} puts them on bottom/top
\end{equation*}

\section{Math equation 2}
\begin{align*}
x&=y & w &=z & a&=b+c\\
2x&=-y & 3w&=\frac{1}{2}z & a&=b\\
-4 + 5x&=2+y & w+2&=-1+w & ab&=cb
\end{align*} % wow really just copied that from the overleaf instructions lmao
% Personal note: the & changes the alignment

\section{Cryptographic protocol}

\begin{enumerate}
    \item \textbf{Choose two large primes:} Pick primes \textit{p} and \textit{q}. %1
    \item \textbf{Compute:} $n = p \cdot$ q. %2
    \item \textbf{Compute Euler's totient:} $\varphi(n) = (p-1)(q-1)$.    
    \item \textbf{Choose public exponent:} Select $e$ such that gcd$(e,\varphi(n)) = 1$. %4
    \item \textbf{Compute private exponent:} Find $d$ such that $e \cdot d \equiv 1$ (mod $\varphi(n))$. %5
    \item \textbf{Publish:} The public key is $(n,e)$, and the private key is $d$. %6
\end{enumerate}

\section{Cryptographic proof (Take-home task)}

\begin{proof}
  The private exponent $d$ is chosen so that 
\begin{equation*}
    e \cdot d \equiv 1 \;\;\; (mod \varphi(n)). % That seems fine
\end{equation*}
This implies there exists some integer $k$ such that
\begin{equation*}
    e \cdot d = 1 + k \varphi(n).
\end{equation*}
Consider the ciphertext $c \equiv m^e$ (mod $n$). When we raise $c$ to the power $d$, we get
\begin{equation*}
    c^d \equiv (m^e)^d = m^{ed} \;\;\;\;\; (\text{mod }n). 
\end{equation*}
Substituting $ed = 1 + k\varphi(n)$ into the exponent, we obtain
\begin{equation*}
    m^{ed} = m^{1+k\varphi(n)} = m \cdot (m^{\varphi(n)})^k.
\end{equation*}
By Eulerâ€™s theorem (which states that if $gcd(m, n) = 1,$ then $m^{\varphi(n)} \equiv 1 \;\; \text{mod } n)$), we have 
\begin{equation*}
    (m^{\varphi(n))k} \equiv 1^k \equiv 1 \;\;\; (\text{mod } n).
\end{equation*}
Therefore,
\begin{equation*}
    m^{1+k\varphi(n)}) \equiv m \cdot 1 \equiv m \;\;\;\; (\text{mod } n).
\end{equation*}
Hence,
\begin{equation*}
    m^{ed} \equiv m \;\;\; (\text{mod } n),
\end{equation*}
which shows that decrypting $c$ with exponent $d$ indeed recovers the original message
\end{proof}
% It looks kind of ugly still but it matches at least...
\end{document}
